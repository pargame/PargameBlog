---
title: 'UBTService BlueprintBase'
date: '2025-08-17T16:17:41+09:00'
---
> **[[UBehaviorTree]]의 특정 브랜치가 활성화되어 있는 동안, 주기적으로 로직을 실행하는 '서비스'를 블루프린트로 구현할 수 있도록 제공되는 기반 클래스입니다.** 주로 적을 탐색하거나, 특정 조건을 계속해서 체크하는 등, 지속적인 관찰 및 업데이트 작업에 사용됩니다.

### **1. 주요 역할 및 책임**
> **설정된 간격(`Interval`)마다 특정 로직을 실행하여 AI의 상태나 환경을 업데이트합니다. 실무 팁: 구현 시 성능과 안정성에 유의하세요.**
* **주기적인 검사 (Periodic Checks)**:
	설정된 간격(`Interval`)마다 특정 로직을 실행하여 AI의 상태나 환경을 업데이트합니다.
* **조건부 로직 실행 (Conditional Logic Execution)**:
	태스크([[UBTTask_BlueprintBase]])처럼 단일 행동을 실행하고 끝나는 것이 아니라, 특정 서브트리가 실행되는 '동안'에만 활성화되어 백그라운드에서 계속 작동합니다.
* **블랙보드 업데이트 (Blackboard Updates)**:
	서비스의 가장 일반적인 용도는 주변 환경을 탐색하여 그 결과를 [[UBlackboardComponent]]에 업데이트하는 것입니다. 예를 들어, '플레이어가 시야에 있는가?'를 계속 체크하여 블랙보드 변수 값을 갱신합니다.

### **2. 핵심 이벤트 (Override in Blueprint)**
> **이 서비스가 부착된 브랜치가 활성화될 때 한 번 호출됩니다. 실무 팁: 변경 시 성능·안정성·호환성을 먼저 검토하세요.**
* **`Event Receive Activation AI`**:
	이 서비스가 부착된 브랜치가 활성화될 때 한 번 호출됩니다.
* **`Event Receive Tick AI`**:
	서비스가 활성화된 동안, `Interval` 속성에 설정된 시간 간격으로 계속해서 호출됩니다. 핵심 로직은 주로 여기에 구현됩니다.
* **`Event Receive Deactivation AI`**:
	AI의 실행 흐름이 이 서비스가 부착된 브랜치를 벗어날 때 한 번 호출됩니다.

### **3. 사용 예시**
> **주기적으로 자신의 체력을 확인하여, 체력이 일정 수준 이하로 떨어지면 블랙보드의 `IsLowHealth` 키 값을 `true`로 설정합니다. 실무 팁: 프로젝트 요구에 맞는 설정을 우선 검토하세요.**
* **`BTService_CheckHealth`**:
	주기적으로 자신의 체력을 확인하여, 체력이 일정 수준 이하로 떨어지면 블랙보드의 `IsLowHealth` 키 값을 `true`로 설정합니다.
* **`BTService_FindPlayer`**:
	주기적으로 플레이어를 탐색하여, 플레이어가 감지되면 블랙보드에 플레이어의 위치나 액터 자체를 저장합니다. 플레이어를 놓치면 블랙보드 값을 비웁니다.
* **`BTService_UpdateFocus`**:
	블랙보드에 타겟이 설정되어 있는 동안, 주기적으로 `SetFocus` 함수를 호출하여 AI가 계속해서 타겟을 바라보도록 합니다.

### **4. 관련 클래스**
> **이 서비스를 노드로 포함하는 전체 AI 로직 트리입니다. 실무 팁: 연관 클래스의 생명주기와 의존도를 반드시 확인하세요.**
* **[[UBehaviorTree]]**:
	이 서비스를 노드로 포함하는 전체 AI 로직 트리입니다.
* **[[UBTCompositeNode]]**:
	Selector, Sequence 등 이 서비스를 자식으로 가질 수 있는 복합 노드입니다.
* **[[AAIController]]**:
	이 서비스를 실행하는 주체입니다.
* **[[UBlackboardComponent]]**:
	서비스의 검사 결과를 저장하는 데 주로 사용됩니다.
