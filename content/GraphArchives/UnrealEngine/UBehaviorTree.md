---
title: 'UBehaviorTree'
date: '2025-08-17T16:17:41+09:00'
---
> **AI의 복잡한 의사 결정 로직을 '트리(Tree)' 구조로 시각화하여 설계하는 'AI의 행동 시나리오'입니다.** "플레이어를 발견했는가? 그렇다면 추격하라. 아니라면 순찰하라"와 같은 복잡한 조건부 행동들을, 프로그래머가 아닌 사람도 쉽게 이해하고 편집할 수 있는 노드 기반 그래프로 표현하는 강력한 AI 시스템입니다.

### **1. 주요 역할 및 책임**
> **AI의 행동 흐름을 상위 노드에서 하위 노드로, 왼쪽에서 오른쪽으로 실행되는 직관적인 그래프로 표현하여, 복잡한 AI 로직을 쉽게 설계하고 디버깅할 수 있게 합니다. 실무 팁: 구현 시 성능과 안정성에 유의하세요.**
* **행동 로직의 시각화 (Visualizing Behavior Logic)**:
	AI의 행동 흐름을 상위 노드에서 하위 노드로, 왼쪽에서 오른쪽으로 실행되는 직관적인 그래프로 표현하여, 복잡한 AI 로직을 쉽게 설계하고 디버깅할 수 있게 합니다.
* **[[Event]] 기반 실행 (Event-Driven Execution)**:
	매 프레임 실행되는 것이 아니라, 특정 [[Event]](예: 블랙보드 값의 변경)가 발생했을 때만 트리 탐색을 다시 시작하여, 매우 효율적이고 성능 부하가 적습니다.
* **모듈성과 재사용성 (Modularity and Reusability)**:
	'플레이어에게 달려가기', '엄폐물 찾기'와 같은 행동 단위를 '태스크(Task)'라는 독립적인 노드로 만들어, 여러 다른 비헤이비어 트리에서 재사용할 수 있습니다.

### **2. 핵심 구성 요소 (노드 타입)**
> **자식 노드들을 어떻게 실행할지를 결정하는 '흐름 제어' 노드입니다. 실무 팁: 변경 시 성능·안정성·호환성을 먼저 검토하세요.**
* **컴포짓 노드 (Composite Nodes)**:
	자식 노드들을 어떻게 실행할지를 결정하는 '흐름 제어' 노드입니다.
    * **`Selector`**:
    	자식 노드를 왼쪽부터 순서대로 실행하며, 하나라도 성공하면 즉시 멈추고 부모에게 '성공'을 반환합니다. (OR 게이트와 유사)
    * **`Sequence`**:
    	자식 노드를 왼쪽부터 순서대로 실행하며, 하나라도 실패하면 즉시 멈추고 부모에게 '실패'를 반환합니다. 모든 자식이 성공해야만 '성공'을 반환합니다. (AND 게이트와 유사)
    * **`Simple Parallel`**:
    	하나의 메인 태스크를 실행하면서, 동시에 다른 비헤이비어 트리를 백그라운드에서 실행합니다.
* **데코레이터 (Decorators)**:
	자신이 붙어있는 노드나 하위 트리의 실행 여부를 결정하는 '조건문' 노드입니다. (예: `Blackboard` - 블랙보드의 특정 값이 조건과 일치하는가?, `Cooldown` - 지정된 쿨타임이 지났는가?)
* **서비스 (Services)**:
	자신이 붙어있는 컴포짓 노드가 활성화되어 있는 동안, 주기적으로 특정 로직을 실행하는 '백그라운드 작업' 노드입니다. (예: 1초마다 플레이어가 시야에 있는지 검사)
* **태스크 (Tasks)**:
	트리의 가장 마지막 잎(Leaf) 노드로서, AI가 실제로 수행하는 '행동' 그 자체입니다. (예: `MoveTo` - 특정 위치로 이동, `Wait` - 잠시 대기, `PlayAnimation` - 애니메이션 재생)

### **3. 블랙보드와의 관계**
> **3. 블랙보드와의 관계 실무 팁: 변경 시 성능·안정성·호환성을 먼저 검토하세요.**
*   `UBehaviorTree`는 [[UBlackboardComponent]]의 값을 **데코레이터**를 통해 읽어와 행동의 조건을 판단하고, **태스크**를 통해 [[UBlackboardComponent]]의 값을 수정하여 AI의 상태를 변경합니다. [[UBlackboardComponent]]는 `UBehaviorTree`의 두뇌라면, [[UBlackboardComponent]]는 그 두뇌가 사용하는 메모리입니다.