---
title: 'UBTCompositeNode'
date: '2025-08-17T16:17:41+09:00'
---
> **[[UBehaviorTree]]에서 자식 노드들을 가지고, 그 자식들을 어떤 순서와 조건으로 실행할지를 결정하는 '복합 노드'의 부모 클래스입니다.** 대표적으로 Sequence, Selector, Simple Parallel 노드가 여기에 속합니다.

### **1. 주요 역할 및 책임**
> **자신에게 연결된 자식 노드들의 실행 순서와 로직을 관리합니다.**
* **실행 흐름 제어 (Execution Flow Control)**:
	자신에게 연결된 자식 노드들의 실행 순서와 로직을 관리합니다.
* **자식 노드 관리 (Child Node Management)**:
	하나 이상의 자식 노드를 가질 수 있으며, 이들의 실행 결과를 바탕으로 다음 행동을 결정합니다.
* **계층적 구조 형성**:
	복합 노드 아래에 또 다른 복합 노드를 배치하여 복잡하고 깊이 있는 AI 로직을 구성할 수 있게 해줍니다.

### **2. 주요 서브클래스**
> **자식 노드를 왼쪽에서 오른쪽으로 순서대로 실행합니다.**
* **`UBTComposite_Sequence` (Sequence)**:
	자식 노드를 왼쪽에서 오른쪽으로 순서대로 실행합니다. 만약 하나의 자식이 실패(`Failed`)를 반환하면, 즉시 실행을 멈추고 자신도 실패를 반환합니다. 모든 자식이 성공해야만 자신도 성공(`Succeeded`)을 반환합니다. '그리고(AND)' 논리와 같습니다.
* **`UBTComposite_Selector` (Selector)**:
	자식 노드를 왼쪽에서 오른쪽으로 순서대로 실행합니다. 만약 하나의 자식이 성공(`Succeeded`)을 반환하면, 즉시 실행을 멈추고 자신도 성공을 반환합니다. 모든 자식이 실패해야만 자신도 실패(`Failed`)를 반환합니다. '또는(OR)' 논리와 같습니다.
* **`UBTComposite_SimpleParallel` (Simple Parallel)**:
	하나의 메인 태스크를 실행하면서, 동시에 다른 서브트리(주로 서비스나 데코레이터)를 함께 실행할 수 있도록 합니다.

### **3. 데코레이터와 서비스**
> **복합 노드 자체에 [[UBTDecorator]]나 [[UBTService]]를 직접 붙일 수 있습니다.**
복합 노드 자체에 [[UBTDecorator]]나 [[UBTService]]를 직접 붙일 수 있습니다.
* **데코레이터**:
	이 복합 노드 전체의 실행 여부를 결정하는 조건을 추가합니다.
* **서비스**:
	이 복합 노드의 자식들이 실행되는 동안, 주기적으로 실행될 로직을 추가합니다.

### **4. 관련 클래스**
> **모든 비헤이비어 트리 노드의 부모 클래스입니다. 실무 팁: 연관 클래스의 생명주기와 의존도를 반드시 확인하세요.**
* **[[UBTNode]]**:
	모든 비헤이비어 트리 노드의 부모 클래스입니다.
* **[[UBTTaskNode]]**:
	복합 노드에 의해 실행되는 실제 '행동' 노드입니다.
* **[[UBTDecorator]]**:
	복합 노드나 그 자식들의 실행을 제어하는 '조건문'입니다.
* **[[UBTService]]**:
	복합 노드가 활성화된 동안 실행되는 '서비스'입니다.
