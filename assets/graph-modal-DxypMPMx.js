const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/graph-view-CygAmUIF.js","assets/react-vendor-BCrD9jt_.js","assets/vendor-DA-qn-I4.js","assets/markdown-CN-Pbo1D.js","assets/d3-PoVUD40l.js","assets/graph-view-DX7bDjvI.css","assets/graph-B8yBPX2X.js","assets/contentIndex-MOlcthWX.js","assets/frontmatter-DaTC158P.js"])))=>i.map(i=>d[i]);
import{r,j as e,R as b}from"./react-vendor-BCrD9jt_.js";const w="modulepreload",R=function(t){return"/PargameBlog/"+t},N={},_=function(p,d,v){let m=Promise.resolve();if(d&&d.length>0){let f=function(a){return Promise.all(a.map(o=>Promise.resolve(o).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),n=c?.nonce||c?.getAttribute("nonce");m=f(d.map(a=>{if(a=R(a),a in N)return;N[a]=!0;const o=a.endsWith(".css"),h=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":w,o||(l.as="script"),l.crossOrigin="",l.href=a,n&&l.setAttribute("nonce",n),document.head.appendChild(l),o)return new Promise((g,j)=>{l.addEventListener("load",g),l.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${a}`)))})}))}function u(c){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=c,window.dispatchEvent(n),!n.defaultPrevented)throw c}return m.then(c=>{for(const n of c||[])n.status==="rejected"&&u(n.reason);return p().catch(u)})},D={BASE_URL:"/PargameBlog/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},P=D,x=!!(P&&P.DEV),y=()=>{},T={debug:x?((...t)=>console.debug(...t)):y,log:x?((...t)=>console.log(...t)):y,info:x?((...t)=>console.info(...t)):y,warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t)},M=b.lazy(()=>_(()=>Promise.resolve().then(()=>$),void 0)),k=({collection:t,onClose:p,onNodeClick:d,onGraphBackgroundClick:v,focusNodeId:m})=>e.jsx("div",{className:"modal",onClick:u=>u.stopPropagation(),children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"suspense-fallback",children:"모달 로딩중…"}),children:e.jsx(M,{collection:t,onClose:p,onNodeClick:d,onGraphBackgroundClick:v,selectedNodeId:m})})}),O=r.memo(k),V=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),G=b.lazy(()=>_(()=>import("./graph-view-CygAmUIF.js"),__vite__mapDeps([0,1,2,3,4,5]))),A=({collection:t,onClose:p,onNodeClick:d,onGraphBackgroundClick:v,selectedNodeId:m})=>{const u=t.split("/").filter(Boolean).pop()||t,[c,n]=r.useState(null);r.useEffect(()=>{let s=!0;return(async()=>{try{const E=await(await _(()=>import("./graph-B8yBPX2X.js"),__vite__mapDeps([6,1,2,3]))).buildGraphForCollectionAsync(t);if(!s)return;n(E)}catch{}})(),()=>{s=!1}},[t]);const[f,a]=r.useState([]);r.useEffect(()=>{let s=!0;return(async()=>{try{const i=await _(()=>import("./contentIndex-MOlcthWX.js"),__vite__mapDeps([7,8,1,2,3]));if(!i.getContentItemsForCollectionAsync)return;const E=await i.getContentItemsForCollectionAsync(t);if(!s)return;a(E)}catch{}})(),()=>{s=!1}},[t]);const[o,h]=r.useState(""),[l,g]=r.useState([]),[j,S]=r.useState(!1),C=r.useRef(null);return r.useEffect(()=>{if(!o){g([]);return}(async()=>{try{const i=(await _(()=>import("./search-Ce6UZfG-.js"),[])).searchItems(f,o);g(i)}catch{g([])}})()},[o,f]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("div",{className:"graph-modal-header-left",children:e.jsxs("h2",{className:"graph-modal-title",children:[u," · Graph"]})}),e.jsxs("div",{className:"graph-modal-header-right",children:[e.jsxs("div",{className:"graph-modal-search-wrapper",children:[e.jsx("input",{id:"graph-search-input",name:"graph-search","aria-label":`Search ${u}`,autoComplete:"off",ref:C,value:o,onChange:s=>{h(s.target.value),S(!0)},onFocus:()=>S(!0),placeholder:f.length>0?`Search ${u}...`:"Search posts...",className:"graph-search-input"}),j&&l.length>0&&e.jsx("div",{className:"graph-search-results",children:l.map(s=>e.jsxs("div",{onMouseDown:i=>{i.preventDefault(),d({id:s.slug,title:s.title})},className:"graph-search-result-item",children:[e.jsx("div",{className:"graph-search-result-title",children:s.title}),e.jsx("div",{className:"graph-search-result-slug",children:s.slug})]},s.slug))})]}),e.jsx("button",{className:"icon","aria-label":"close",onClick:p,children:"✕"})]})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"graph-modal-body",children:e.jsx(b.Suspense,{fallback:e.jsx("div",{className:"suspense-fallback",children:"그래프 로딩 중…"}),children:c?e.jsx(G,{data:c,onNodeClick:d,onBackgroundClick:v,selectedNodeId:m}):e.jsx("div",{className:"suspense-fallback",children:"그래프 데이터 준비 중…"})})})})]})})},I=r.memo(A),$=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{V as G,_,T as l};
//# sourceMappingURL=graph-modal-DxypMPMx.js.map
